function a3_0x3fde(_0x48c8d0,_0x1962ee){const _0x1fdd5b=a3_0x3ef7();return a3_0x3fde=function(_0x15a350,_0xa9a88c){_0x15a350=_0x15a350-0x124;let _0x3ef777=_0x1fdd5b[_0x15a350];return _0x3ef777;},a3_0x3fde(_0x48c8d0,_0x1962ee);}const a3_0x19d4eb=a3_0x3fde;(function(_0x595aca,_0x2457a5){const _0x2af8b0=a3_0x3fde,_0x41391f=_0x595aca();while(!![]){try{const _0x4645b3=parseInt(_0x2af8b0(0x13c))/0x1+parseInt(_0x2af8b0(0x148))/0x2*(-parseInt(_0x2af8b0(0x14e))/0x3)+parseInt(_0x2af8b0(0x15f))/0x4*(parseInt(_0x2af8b0(0x154))/0x5)+parseInt(_0x2af8b0(0x12a))/0x6+-parseInt(_0x2af8b0(0x15d))/0x7+parseInt(_0x2af8b0(0x162))/0x8*(-parseInt(_0x2af8b0(0x144))/0x9)+-parseInt(_0x2af8b0(0x155))/0xa*(-parseInt(_0x2af8b0(0x13a))/0xb);if(_0x4645b3===_0x2457a5)break;else _0x41391f['push'](_0x41391f['shift']());}catch(_0x326109){_0x41391f['push'](_0x41391f['shift']());}}}(a3_0x3ef7,0x4c760));const a3_0xa9a88c=(function(){let _0x1ebfd4=!![];return function(_0x1b7d66,_0x33ec57){const _0x3cdd03=_0x1ebfd4?function(){const _0x2c54c9=a3_0x3fde;if(_0x33ec57){const _0x45a314=_0x33ec57[_0x2c54c9(0x12f)](_0x1b7d66,arguments);return _0x33ec57=null,_0x45a314;}}:function(){};return _0x1ebfd4=![],_0x3cdd03;};}()),a3_0x15a350=a3_0xa9a88c(this,function(){const _0x3bf0c6=a3_0x3fde;return a3_0x15a350[_0x3bf0c6(0x14d)]()[_0x3bf0c6(0x142)]('(((.+)+)+)+$')[_0x3bf0c6(0x14d)]()[_0x3bf0c6(0x125)](a3_0x15a350)[_0x3bf0c6(0x142)]('(((.+)+)+)+$');});a3_0x15a350();'use strict';Object[a3_0x19d4eb(0x14b)](exports,a3_0x19d4eb(0x161),{'value':!0x0}),exports[a3_0x19d4eb(0x133)]=answer,exports[a3_0x19d4eb(0x150)]=clickToCall,exports[a3_0x19d4eb(0x124)]=transfer;var _ami=require(a3_0x19d4eb(0x141)),exec=require(a3_0x19d4eb(0x126))['exec'];async function command(_0x4bb9ce){return new Promise((_0x15cefe,_0x5cf0b3)=>{const _0x556114=a3_0x3fde;exec(_0x556114(0x15c)+_0x4bb9ce+'\x27')[_0x556114(0x130)](function(_0x36318a){const _0x26e559=_0x556114;var _0x3f2acc=_0x36318a[_0x26e559(0x151)],_0x579724=_0x36318a[_0x26e559(0x157)];return _0x579724?_0x5cf0b3(_0x579724):_0x15cefe(_0x3f2acc);})['catch'](function(_0x54e6fc){const _0x4a0b30=_0x556114;console[_0x4a0b30(0x138)]('ERROR:\x20',_0x54e6fc);});});}function timeDelay(){return new Promise(_0x467772=>{setTimeout(()=>{_0x467772();},0x578);});}function getMaxFullNumberMinusOne(_0x382da6){const _0x1a8468=a3_0x19d4eb,_0x431813=_0x382da6[_0x1a8468(0x140)](_0x56a825=>{const _0xcc008d=_0x1a8468,[_0x31099e,_0x170892]=_0x56a825[_0xcc008d(0x158)]('.'),_0x5ed5b8=parseInt(_0x170892);return{'beforePoint':_0x31099e,'lastFourDigits':_0x5ed5b8};}),_0x30a46f=_0x431813[_0x1a8468(0x14a)]((_0x24264f,_0x35232c)=>_0x35232c[_0x1a8468(0x13e)]>_0x24264f[_0x1a8468(0x13e)]?_0x35232c:_0x24264f),_0x2a5a59=_0x30a46f[_0x1a8468(0x13e)]-0x1;return _0x30a46f['beforePoint']+'.'+_0x2a5a59[_0x1a8468(0x14d)]();}async function clickToCall(_0x23668e,_0x3fbac3){const _0x374400=a3_0x19d4eb;try{return console['log'](_0x374400(0x128),_0x23668e),await _ami[_0x374400(0x15b)]['action']({'Action':_0x374400(0x12c),'Exten':''+_0x23668e[_0x374400(0x152)],'Priority':'1','Variable':'SIPADDHEADER=\x22Call-Info:\x20<sip:'+_0x3fbac3+_0x374400(0x137),'Channel':_0x374400(0x134)+_0x23668e['ramal'],'CallerID':_0x23668e[_0x374400(0x152)],'Context':_0x374400(0x15a)},!0x0,0x7530)[_0x374400(0x130)](async _0x303f41=>{const _0x11149b=_0x374400;let _0x15154f=await command(_0x11149b(0x129)),_0x46f9b8=[];return _0x15154f=_0x15154f[_0x11149b(0x158)]('\x0a'),_0x15154f['forEach'](_0xb2986e=>{const _0x4aa64c=_0x11149b;if(_0xb2986e[_0x4aa64c(0x158)]('!')[0x0][_0x4aa64c(0x147)](_0x23668e[_0x4aa64c(0x13f)])||_0xb2986e[_0x4aa64c(0x158)]('!')[0x0]['includes'](_0x23668e[_0x4aa64c(0x152)])){console[_0x4aa64c(0x149)](_0xb2986e);const _0x2e8e5=_0xb2986e[_0x4aa64c(0x158)]('!'),_0x11cecc=_0x2e8e5[_0x2e8e5[_0x4aa64c(0x12d)]-0x1];_0x46f9b8[_0x4aa64c(0x145)](_0x11cecc);}}),0x0<_0x46f9b8[_0x11149b(0x12d)]?(_0x303f41[_0x11149b(0x131)]=getMaxFullNumberMinusOne(_0x46f9b8),console[_0x11149b(0x149)](_0x11149b(0x12e),_0x303f41[_0x11149b(0x131)])):(_0x303f41[_0x11149b(0x131)]=null,console['log']('UNIQUEID\x20Inexistente.')),console[_0x11149b(0x149)](_0x303f41),_0x303f41;})['catch'](_0x3818ad=>{const _0x23b6fb=_0x374400;console[_0x23b6fb(0x149)](_0x3818ad);});}catch(_0x2c3ed2){return console[_0x374400(0x138)](_0x374400(0x12b),_0x2c3ed2),_0x2c3ed2 instanceof Error&&_0x2c3ed2?.['message']?.['includes'](_0x374400(0x136))&&(console[_0x374400(0x138)](_0x374400(0x14f)),process[_0x374400(0x139)](0x1)),{'error':_0x2c3ed2['message']};}}async function transfer(_0x4890e9){return new Promise(async(_0x4f27b7,_0x468531)=>{const _0x259ca2=a3_0x3fde;let _0x386905='',_0x181186=await command(_0x259ca2(0x129));_0x181186=_0x181186[_0x259ca2(0x158)]('\x0a'),_0x181186[_0x259ca2(0x156)](_0x509647=>{const _0x3c8492=_0x259ca2;if(_0x509647[_0x3c8492(0x158)]('!')[0x0][_0x3c8492(0x147)](_0x4890e9['ramal_origin']))return void(_0x386905=_0x509647[_0x3c8492(0x158)]('!')[0x0]);}),''==_0x386905?_0x468531(_0x259ca2(0x160)):_0x4f27b7(amiClient[_0x259ca2(0x132)]({'Action':'Atxfer','Exten':_0x4890e9[_0x259ca2(0x127)],'Priority':'1','Channel':_0x386905,'Context':'from-internal'}));});}function a3_0x3ef7(){const _0x4cf636=['@from-internal','includes','33208QeYSpO','log','reduce','defineProperty','@PICKUPMARK)','toString','48KXlHZj','Reiniciando\x20a\x20API...','clickToCall','stdout','destination','Parametros\x20InvÃ¡lidos','5QBOvII','1642110BLcBAB','forEach','stderr','split','Pickup(','from-internal','customAmiClient','asterisk\x20-rx\x20\x27','652568zXulLp','>;answer-after=0','330276bSAUnD','Channel\x20not\x20found','__esModule','1193528XmRLIt','undefined','transfer','constructor','child-process-promise','ramal_destination','Chamou\x20Rota\x20ClickToCall','core\x20show\x20channels\x20concise','1027044uUwhyU','Erro\x20ao\x20fazer\x20chamada:','Originate','length','UNIQUEID:','apply','then','uniqueID','action','answer','Local/','caller','connect','>;answer-after=0\x22','error','exit','33ivwjZU','ramal_origin','74887OkSnmH','Exec','lastFourDigits','ramal','map','./ami','search','SIPADDHEADER=\x22Call-Info:\x20<sip:','9viDHCP','push'];a3_0x3ef7=function(){return _0x4cf636;};return a3_0x3ef7();}async function answer(_0x2c6378){return new Promise(async(_0x1b7c40,_0x31a976)=>{const _0x150b19=a3_0x3fde;_0x150b19(0x163)==_0x2c6378[_0x150b19(0x13b)]||''==_0x2c6378[_0x150b19(0x13b)]||''==_0x2c6378['caller']?_0x31a976(_0x150b19(0x153)):_0x1b7c40(amiClient[_0x150b19(0x132)]({'Action':'Originate','Channel':'Local/'+_0x2c6378[_0x150b19(0x13b)]+_0x150b19(0x146),'Application':_0x150b19(0x13d),'CallerID':_0x2c6378[_0x150b19(0x135)],'Variable':_0x150b19(0x143)+ipAddress+_0x150b19(0x15e),'Data':_0x150b19(0x159)+_0x2c6378['ramal_origin']+'&'+_0x2c6378[_0x150b19(0x13b)]+_0x150b19(0x14c)},!0x0));});}