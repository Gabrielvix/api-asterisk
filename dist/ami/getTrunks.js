const a6_0x252377=a6_0x2229;(function(_0x1c809b,_0x128f97){const _0x4dbbd4=a6_0x2229,_0x542e7f=_0x1c809b();while(!![]){try{const _0x126d21=parseInt(_0x4dbbd4(0x1ad))/0x1+-parseInt(_0x4dbbd4(0x1b2))/0x2+parseInt(_0x4dbbd4(0x19d))/0x3*(parseInt(_0x4dbbd4(0x1a5))/0x4)+-parseInt(_0x4dbbd4(0x19f))/0x5*(parseInt(_0x4dbbd4(0x1b3))/0x6)+parseInt(_0x4dbbd4(0x1a9))/0x7*(-parseInt(_0x4dbbd4(0x1ac))/0x8)+parseInt(_0x4dbbd4(0x1a0))/0x9+parseInt(_0x4dbbd4(0x1b6))/0xa;if(_0x126d21===_0x128f97)break;else _0x542e7f['push'](_0x542e7f['shift']());}catch(_0x10181f){_0x542e7f['push'](_0x542e7f['shift']());}}}(a6_0x3d71,0xcff8b));const a6_0x375f62=(function(){let _0x5e17bf=!![];return function(_0x5b78ba,_0x5e758c){const _0x47e916=_0x5e17bf?function(){const _0x24e923=a6_0x2229;if(_0x5e758c){const _0x4b450c=_0x5e758c[_0x24e923(0x1af)](_0x5b78ba,arguments);return _0x5e758c=null,_0x4b450c;}}:function(){};return _0x5e17bf=![],_0x47e916;};}()),a6_0x4f3a87=a6_0x375f62(this,function(){const _0x3742c5=a6_0x2229;return a6_0x4f3a87[_0x3742c5(0x1a8)]()[_0x3742c5(0x1a1)](_0x3742c5(0x196))[_0x3742c5(0x1a8)]()[_0x3742c5(0x198)](a6_0x4f3a87)[_0x3742c5(0x1a1)](_0x3742c5(0x196));});a6_0x4f3a87();'use strict';function a6_0x2229(_0x5d1aab,_0x566f7d){const _0x4c5c1f=a6_0x3d71();return a6_0x2229=function(_0x4f3a87,_0x375f62){_0x4f3a87=_0x4f3a87-0x196;let _0x3d718a=_0x4c5c1f[_0x4f3a87];return _0x3d718a;},a6_0x2229(_0x5d1aab,_0x566f7d);}const fs=require('fs'),path='/etc/issabel.conf';async function getDatabasePassword(){const _0x46b533=a6_0x2229;try{const _0x7bf7ff=fs[_0x46b533(0x1b5)](path,'utf-8'),_0x9785ba=_0x7bf7ff[_0x46b533(0x19a)]('\x0a')[_0x46b533(0x1a7)](_0x382904=>_0x382904['includes'](_0x46b533(0x1ae))),_0x480543=_0x9785ba[_0x46b533(0x19a)]('=')[0x1][_0x46b533(0x19c)]();return _0x480543;}catch(_0x848ee){return console[_0x46b533(0x1aa)]('Erro\x20ao\x20ler\x20o\x20arquivo\x20de\x20configuração:',_0x848ee),null;}}async function connectToDatabase(){const _0x246f3d=a6_0x2229,_0x5ec0a8=require(_0x246f3d(0x19e)),_0x21bb00=await getDatabasePassword();if(!_0x21bb00)return void console[_0x246f3d(0x1a2)]('Não\x20foi\x20possível\x20obter\x20a\x20senha\x20do\x20banco\x20de\x20dados.');try{const _0x21cf2c=await _0x5ec0a8['createConnection']({'host':_0x246f3d(0x1a3),'user':_0x246f3d(0x1b1),'password':_0x21bb00,'database':_0x246f3d(0x19b)}),[_0x5b6d34]=await _0x21cf2c[_0x246f3d(0x1b4)]('SELECT\x20trunkid,\x20name,\x20tech,\x20outcid\x20FROM\x20trunks');return await _0x21cf2c[_0x246f3d(0x199)](),_0x5b6d34;}catch(_0x5b8a63){console[_0x246f3d(0x1aa)](_0x246f3d(0x1ab),_0x5b8a63);}}async function getSipPeers(){const _0x37aee0=a6_0x2229,_0x5efad9=require(_0x37aee0(0x19e)),_0x5c0c43=await getDatabasePassword();if(!_0x5c0c43)return void console[_0x37aee0(0x1a2)](_0x37aee0(0x197));try{const _0x36405a=await _0x5efad9[_0x37aee0(0x1b0)]({'host':'localhost','user':_0x37aee0(0x1b1),'password':_0x5c0c43,'database':_0x37aee0(0x19b)}),[_0x2b495e]=await _0x36405a[_0x37aee0(0x1b4)](_0x37aee0(0x1a4));return await _0x36405a[_0x37aee0(0x199)](),_0x2b495e;}catch(_0x66259d){console['error']('Erro\x20ao\x20conectar\x20ao\x20banco\x20de\x20dados:',_0x66259d);}}function a6_0x3d71(){const _0x38498f=['trim','6kisuSq','mysql2/promise','55AbJABy','3475521CWjuZU','search','log','localhost','SELECT\x20id,\x20keyword,\x20data\x20FROM\x20sip\x20WHERE\x20keyword\x20=\x20\x22callerid\x22','714908YijCHj','exports','find','toString','35QHepKW','error','Erro\x20ao\x20conectar\x20ao\x20banco\x20de\x20dados:','1824600oNvJIE','1012586JwKbof','mysqlrootpwd','apply','createConnection','root','584504cikqkF','398892zSLUzr','execute','readFileSync','12595710yymXkE','(((.+)+)+)+$','Não\x20foi\x20possível\x20obter\x20a\x20senha\x20do\x20banco\x20de\x20dados.','constructor','end','split','asterisk'];a6_0x3d71=function(){return _0x38498f;};return a6_0x3d71();}module[a6_0x252377(0x1a6)]={'connectToDatabase':connectToDatabase,'getSipPeers':getSipPeers};