"use strict";var _ami_actionsCall=require("../ami/ami_actionsCall");class ControllerAmi{async ClickToCall(a,b){const c=a.headers["x-forwarded-for"]||a.connection.remoteAddress;console.log("IP do cliente:",c,new Date);// EndereÃ§o IP do servidor
const d=a.connection.localAddress,e=d.match(/(?:[0-9]{1,3}\.){3}[0-9]{1,3}/);if(e){const c=e[0];return console.log("Endere\xE7o IPServer:",c),b.json(await(0,_ami_actionsCall.clickToCall)(a.body,c).then(a=>a))}return console.log("Nenhum endere\xE7o IP encontrado na string."),b.json("Nenhum endere\xE7o IP encontrado na request.")}async Transfer(a,b){return b.json(await(0,_ami_actionsCall.transfer)(a.body).then(a=>a))}async Answer(a,b){return b.json(await(0,_ami_actionsCall.answer)(a.body).then(a=>a))}}module.exports=new ControllerAmi;