'use strict';function a13_0x2d84(){const _0x1d9df1=['LEADMOB_PASS','48iUbmOL','28596ZZbmtK','data','format','6610032ytNBgh','config','YYYY-MM-DD','exports','869Xjrfbp','scheduleJob','search','dotenv','10dzsuue','Erro\x20ao\x20consultar\x20Leadmob:','moment','Dados\x20da\x20API\x20da\x20Leadmob\x20estão\x20vazios\x20ou\x20inválidos.','axios','1303820PAPGCO','has','apply','leadMap','(((.+)+)+)+$','forEach','6943059doTjyw','Lead\x20não\x20encontrada:','Dados\x20da\x20Leadmob\x20atualizados\x20no\x20Map\x20global\x20com\x20sucesso.','2qDxQKQ','log','application/json','set','66CCXLgN','error','1003882GFYxad','Atualizando\x20cache\x20da\x20Leadmob\x20e\x20o\x20Map\x20global...','subtract','days','129420NlWVBr','dados','isArray','env','constructor','https://app.leadmob.com.br/tools/ai/dados','387220nlucqI','post'];a13_0x2d84=function(){return _0x1d9df1;};return a13_0x2d84();}const a13_0x327e22=a13_0x5a43;(function(_0x20e91a,_0x185e55){const _0x5751ca=a13_0x5a43,_0x355526=_0x20e91a();while(!![]){try{const _0x5d5302=parseInt(_0x5751ca(0xa1))/0x1*(-parseInt(_0x5751ca(0x9b))/0x2)+-parseInt(_0x5751ca(0xaf))/0x3*(-parseInt(_0x5751ca(0xae))/0x4)+parseInt(_0x5751ca(0xab))/0x5*(-parseInt(_0x5751ca(0x9f))/0x6)+-parseInt(_0x5751ca(0x92))/0x7+parseInt(_0x5751ca(0xb2))/0x8+-parseInt(_0x5751ca(0x98))/0x9*(-parseInt(_0x5751ca(0x8d))/0xa)+-parseInt(_0x5751ca(0xb6))/0xb*(-parseInt(_0x5751ca(0xa5))/0xc);if(_0x5d5302===_0x185e55)break;else _0x355526['push'](_0x355526['shift']());}catch(_0x3b4bc0){_0x355526['push'](_0x355526['shift']());}}}(a13_0x2d84,0x7f75e));const axios=require(a13_0x327e22(0x91));require(a13_0x327e22(0x8c))[a13_0x327e22(0xb3)]();const schedule=require('node-schedule'),moment=require(a13_0x327e22(0x8f));global['leadMap']=new Map();function a13_0x5a43(_0x11650e,_0x404975){const _0x315f15=a13_0x2d84();return a13_0x5a43=function(_0xdf7ea3,_0x3a296c){_0xdf7ea3=_0xdf7ea3-0x8a;let _0x2d8493=_0x315f15[_0xdf7ea3];return _0x2d8493;},a13_0x5a43(_0x11650e,_0x404975);}function getDateRange(){const _0x378bf3=a13_0x327e22,_0x57cc66=moment()[_0x378bf3(0xb1)](_0x378bf3(0xb4)),_0x258013=moment()[_0x378bf3(0xa3)](0x1e,_0x378bf3(0xa4))[_0x378bf3(0xb1)](_0x378bf3(0xb4));return{'dataInicial':_0x258013,'dataFinal':_0x57cc66};}async function fetchLeadmobData(){const _0x170489=a13_0x327e22,_0x252dab={'username':process[_0x170489(0xa8)]['LEADMOB_USER'],'password':process[_0x170489(0xa8)][_0x170489(0xad)]},{dataInicial:_0x5b93d7,dataFinal:_0x523a62}=getDateRange();try{const _0x548ffc=await axios[_0x170489(0xac)](_0x170489(0xaa),{'data_inicial':_0x5b93d7,'data_final':_0x523a62},{'auth':_0x252dab,'headers':{'Content-Type':_0x170489(0x9d)}});return _0x548ffc[_0x170489(0xb0)];}catch(_0x345f48){throw console[_0x170489(0xa0)](_0x170489(0x8e),_0x345f48),_0x345f48;}}async function cacheLeadmobData(){const _0x131a1f=a13_0x327e22,_0x417ded=(function(){let _0x1d95bf=!![];return function(_0x4aa9be,_0x225b64){const _0x167d0e=_0x1d95bf?function(){const _0xf1e595=a13_0x5a43;if(_0x225b64){const _0x1e079b=_0x225b64[_0xf1e595(0x94)](_0x4aa9be,arguments);return _0x225b64=null,_0x1e079b;}}:function(){};return _0x1d95bf=![],_0x167d0e;};}()),_0x4752e9=_0x417ded(this,function(){const _0x4caa21=a13_0x5a43;return _0x4752e9['toString']()[_0x4caa21(0x8b)](_0x4caa21(0x96))['toString']()[_0x4caa21(0xa9)](_0x4752e9)['search'](_0x4caa21(0x96));});_0x4752e9();try{const _0x3a4423=await fetchLeadmobData();if(_0x3a4423&&Array[_0x131a1f(0xa7)](_0x3a4423[_0x131a1f(0xa6)])){const _0x3af93e=new Map();_0x3a4423[_0x131a1f(0xa6)][_0x131a1f(0x97)](_0x515b7e=>{const _0x3987bf=_0x131a1f;_0x3af93e[_0x3987bf(0x9e)](_0x515b7e['telefone'],_0x515b7e);}),global[_0x131a1f(0x95)]=_0x3af93e,console['log'](_0x131a1f(0x9a));}else console[_0x131a1f(0xa0)](_0x131a1f(0x90));}catch(_0x583d5c){console['error']('Erro\x20ao\x20armazenar\x20os\x20dados:',_0x583d5c);}}async function getCachedLeadmobData(_0xda5049){const _0x31f971=a13_0x327e22;try{return global['leadMap'][_0x31f971(0x93)](_0xda5049)?global[_0x31f971(0x95)]['get'](_0xda5049):(console[_0x31f971(0x9c)](_0x31f971(0x99),_0xda5049),!0x1);}catch(_0x560b50){throw console[_0x31f971(0xa0)]('Erro\x20ao\x20pegar\x20os\x20dados\x20do\x20Redis:',_0x560b50),_0x560b50;}}schedule[a13_0x327e22(0x8a)]('0\x20*\x20*\x20*\x20*',()=>{const _0x5532d4=a13_0x327e22;console['log'](_0x5532d4(0xa2)),cacheLeadmobData();}),cacheLeadmobData(),module[a13_0x327e22(0xb5)]={'getCachedLeadmobData':getCachedLeadmobData};