"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerAgi=registerAgi;var _agi=require("./agi"),_axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function createLead(a){return new Promise((b,c)=>{_axios.default.request({method:"POST",url:"https://test.com.br/api/leads",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"insomnia/2023.5.8",authtoken:"\tetdtyIiwibmFtZSI6IlZvaXAgQ29ubmVjdCIsIkFtFIjoxNzEwMTt1hKGzgE-faRNmudtJef383nw",Authorization:"Bearer asdaww8f6caa02781c0faff4f313953757483107"},data:{source:"3",status:"1",name:a,phonenumber:a}}).then(function(a){b(a.data)}).catch(function(a){c(a)})})}async function registerAgi(){_agi.agi.use(async(a,b)=>{await a.answer();const c=await a.variables.extension;console.log(`LEAD: ${c}`);const d=await createLead(c);console.log(`Result add Lead:`,JSON.stringify(d)),await b()})}